#!/bin/bash
set -e

# 1. Kill any running instances of the app before removal
# Using pkill -f matches the specific JAR name in the full command line
echo "Stopping Academic Analytics..."
pkill -9 -f "mainapplication.jar" || true

# 2. Kill any orphaned Chromium processes started by the app
# This prevents Chromium from lingering in the background after the JAR is gone
pkill -9 -f "chrome-linux/chrome" || true

# 3. Wait for the processes to release file locks
sleep 2

echo "Preparing to remove Academic Analytics..."
exit 0